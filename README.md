# 📌 拡張版 ToDo管理アプリ  
（カテゴリ・優先度対応 ＋ LINE自動通知）

Python と Google Sheets を用いて作成した  
**拡張版 ToDo 管理システム**です。

基本的なタスク管理機能に加え、  
**カテゴリ・優先度管理**および  
**GitHub Actions を利用した LINE 定時通知機能**を実装しています。

---

## 📖 アプリ概要

本アプリは、以下の要件を満たす ToDo 管理システムです。

- Google Sheets を簡易データベースとして使用
- Webアプリ（Python）でタスクを管理
- 毎朝、**今日・明日の未完了タスクを LINE に自動通知**
- サーバー常駐不要・無料枠のみで運用可能

---

## 🧩 基本機能

### ✅ タスク登録
- タイトル
- 期日
- カテゴリ
- 優先度

を入力して新規タスクを登録できます。

---

### ✏️ タスク修正
- 既存タスクの内容（タイトル・期日・カテゴリ・優先度・完了状態）を編集可能

---

### 🗑 タスク削除
- 不要になったタスクを一覧画面から削除可能

---

### 📄 タスク一覧表示
- 登録済みタスクを一覧で表示
- 完了／未完了の状態を確認可能

---

## 🚀 拡張機能

### 🗂 カテゴリ管理
タスクを用途別に分類できます。

- 仕事 💼
- 家庭 🏠
- 学習 📓
- その他（未分類）

---

### 🎯 優先度管理
重要度に応じてタスクを管理できます。

- 高 🔴
- 中 🟡
- 低 ⚪

---

### 📲 LINE自動通知機能
- **今日・明日の未完了タスクのみ**を抽出
- 毎朝 **JST 7時** に LINE へ自動通知
- カテゴリ・優先度をアイコンで視覚的に表示
- 手動実行で即時テスト可能

---

## 🧠 通知ロジックの工夫

- GitHub Actions の UTC 実行による **日付ズレを防ぐため、JST基準で日付判定**
- 完了フラグが TRUE のタスクは通知対象外
- 期日順に並び替えて通知

---

## 🧾 Google Sheets 構成

| 列名 | 内容 |
|----|----|
| タイトル | タスク名 |
| 期日 | `YYYY-MM-DD HH:MM` |
| カテゴリ | 仕事 / 家庭 / 学習 |
| 優先度 | 高 / 中 / 低 |
| 完了フラグ | TRUE / FALSE |

---

## ⏰ 定時実行（GitHub Actions）


schedule:
  - cron: '0 22 * * *'  # JST 7:00
GitHub Actions は UTC 基準のため、
日本時間との差（+9時間）を考慮して設定しています。

🔐 使用する環境変数（GitHub Secrets）
変数名	説明
LINE_CHANNEL_ACCESS_TOKEN	LINE Bot のアクセストークン
LINE_USER_ID	通知先のユーザーID
SPREADSHEET_ID	Google Sheets ID
SERVICE_ACCOUNT_JSON	サービスアカウントJSON（1行）

🛠 使用技術
Python
Google Sheets API
LINE Messaging API
GitHub Actions
gspread
google-auth
Render
